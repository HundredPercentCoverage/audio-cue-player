(this["webpackJsonpaudio-cue-player"]=this["webpackJsonpaudio-cue-player"]||[]).push([[0],{206:function(e,t,a){e.exports=a(374)},374:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(38),c=a.n(l),i=(a(211),a(28)),o=a(39),u=a(197),s=function(e,t){var a,n;switch(t.type){case"add":return{players:[].concat(Object(u.a)(e.players),[{id:e.players.length?e.players[e.players.length-1].id+1:1,selected:!e.players.length}])};case"delete":return a=e.players.findIndex((function(e){return e.id===t.id})),e.players[a].selected&&e.players.length>1&&(e.players[a+1]?e.players[a+1].selected=!0:e.players[e.players.length-2].selected=!0),Object(o.a)({},e,{players:e.players.filter((function(e){return e.id!==t.id}))});case"moveup":if(0!==(a=e.players.findIndex((function(e){return e.id===t.id})))){var r=e.players[a];e.players[a]=e.players[a-1],e.players[a-1]=r}return Object(o.a)({},e);case"movedown":if((a=e.players.findIndex((function(e){return e.id===t.id})))!==e.players.length-1){var l=e.players[a];e.players[a]=e.players[a+1],e.players[a+1]=l}return Object(o.a)({},e);case"selectnext":return(n=e.players.findIndex((function(e){return e.selected})))<e.players.length-1&&(e.players[n].selected=!1,e.players[n+1].selected=!0),Object(o.a)({},e);case"selectprevious":return(n=e.players.findIndex((function(e){return e.selected})))>0&&(e.players[n].selected=!1,e.players[n-1].selected=!0),Object(o.a)({},e);case"setplayerfile":var c=e.players.findIndex((function(e){return e.id===t.id}));return e.players[c].file=t.file,Object(o.a)({},e);default:return e}},d={players:[{id:1,selected:!0,file:null}]},p=Object(n.createContext)(d),m=function(e){var t=e.children,a=Object(n.useReducer)(s,d),l=Object(i.a)(a,2),c=l[0],o=l[1];return r.a.createElement(p.Provider,{value:{state:c,dispatch:o}},t)},f=a(380),y=a(386),h=a(385),E=a(383),b=a(49);var g=function(e){var t=Object(n.useState)(new Audio),a=Object(i.a)(t,1)[0],r=Object(n.useState)(!1),l=Object(i.a)(r,2),c=l[0],o=l[1],u=Object(n.useState)(!1),s=Object(i.a)(u,2),d=s[0],p=s[1];return a.addEventListener("ended",(function(){p(!0),o(!1)})),Object(n.useEffect)((function(){a.src=e?URL.createObjectURL(e):""}),[e,a]),Object(n.useEffect)((function(){c?e&&(a.play(),p(!1)):a.pause()}),[c,a,e]),{playing:c,togglePlayback:function(){return o(!c)},stop:function(){o(!1),a.currentTime=0},ended:d}};var v=function(e){var t=e.file,a=e.selected,l=e.playerId,c=g(t),i=c.playing,o=c.togglePlayback,u=c.stop,s=Object(n.useRef)(),d=Object(n.useContext)(p).dispatch;return r.a.createElement(h.a,{color:a?"green":"grey"},r.a.createElement("input",{type:"file",ref:s,accept:"audio/*",hidden:!0,onChange:function(e){d({type:"setplayerfile",file:e.target.files[0],id:l})}}),r.a.createElement(E.a,{icon:!0,onClick:function(){return s.current.click()}},r.a.createElement(b.a,{name:"folder"})),r.a.createElement(E.a,{disabled:!t,icon:!0,onClick:o},r.a.createElement(b.a,{name:i?"pause":"play",color:i?"blue":"green"})),r.a.createElement(E.a,{disabled:!t,icon:!0,onClick:u},r.a.createElement(b.a,{name:"stop",color:"red"})),r.a.createElement(E.a,{icon:!0,onClick:function(){return d({type:"delete",id:l})}},r.a.createElement(b.a,{name:"delete"})),r.a.createElement("span",{style:{padding:"inherit"}},t?t.name:"No file selected"),r.a.createElement(E.a,{icon:!0,onClick:function(){return d({type:"moveup",id:l})},floated:"right"},r.a.createElement(b.a,{name:"arrow up"})),r.a.createElement(E.a,{icon:!0,onClick:function(){return d({type:"movedown",id:l})},floated:"right"},r.a.createElement(b.a,{name:"arrow down"})))};var w=function(e){var t=e.selectedFile,a=g(t),l=a.playing,c=a.togglePlayback,i=a.ended,o=Object(n.useContext)(p).dispatch;return Object(n.useEffect)((function(){i&&o({type:"selectnext"})}),[i,o]),r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a.Group,null,r.a.createElement(E.a,{icon:!0,onClick:function(){return o({type:"selectprevious"})}},r.a.createElement(b.a,{name:"fast backward"})),r.a.createElement(E.a,{icon:!0,onClick:c},r.a.createElement(b.a,{name:l?"pause":"play",color:l?"blue":"green"})),r.a.createElement(E.a,{icon:!0,onClick:function(){return o({type:"selectnext"})}},r.a.createElement(b.a,{name:"fast forward"}))),r.a.createElement("span",{style:{padding:"1em"}},t?t.name:"No file"))},j=a(384),O=a(381);var k=function(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),a=t[0],l=t[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,{inverted:!0,fixed:"top"},r.a.createElement(j.a.Item,{header:!0},r.a.createElement("h2",null,"Q")),r.a.createElement(j.a.Item,{onClick:function(){return l(!a)}},"How to Use"),r.a.createElement(j.a.Item,{href:"https://github.com/HundredPercentCoverage/audio-cue-player",target:"_blank"},"GitHub")),r.a.createElement(O.a,{open:a,onClose:function(){return l(!1)},closeIcon:!0},r.a.createElement(O.a.Header,null,"How to Use"),r.a.createElement(O.a.Content,null,r.a.createElement("p",null,"With this app you can queue up a selection of your own audio cues and play them in sequence, for example if you are in an amateur theatre group."),r.a.createElement("p",null,"Use the button with the folder icon in a cue to select a file from your machine. Use the play/pause and stop buttons to preview the cue. Click the X button in a cue to delete it."),r.a.createElement("p",null,"Use the '+' button to add a new cue. Cues can be moved up and down the list using the up and down arrow buttons on each. A cue with the green highlight is the one currently selected."),r.a.createElement("p",null,"The controls at the top of the cue list are the master playback. Press the play button to hear the currently selected cue. When that cue has finished playing, the master playback will automatically advance to the next cue in the list. You can use the left and right buttons to manually select a cue."))))},C={h1:{marginTop:"3em"}};var x=function(){var e=Object(n.useContext)(p),t=e.state,a=e.dispatch,l=t.players,c=l.length?l.find((function(e){return e.selected})).file:null;return r.a.createElement(r.a.Fragment,null,r.a.createElement(k,null),r.a.createElement(f.a,null,r.a.createElement(y.a,{as:"h1",content:"Your Cues",style:C.h1,textAlign:"center"}),r.a.createElement(w,{selectedFile:c}),r.a.createElement(h.a.Group,null,l.map((function(e){return r.a.createElement(v,{key:e.id,selected:e.selected,file:e.file,playerId:e.id})}))),r.a.createElement(E.a,{icon:!0,onClick:function(){return a({type:"add"})}},r.a.createElement(b.a,{name:"plus"}))))};var I=function(){return r.a.createElement(m,null,r.a.createElement(x,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(I,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[206,1,2]]]);
//# sourceMappingURL=main.b4c7129a.chunk.js.map
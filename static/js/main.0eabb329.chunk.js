(this["webpackJsonpaudio-cue-player"]=this["webpackJsonpaudio-cue-player"]||[]).push([[0],{127:function(e,t,n){e.exports=n(253)},253:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(25),l=n.n(r),i=(n(132),n(31)),o=n(23),u=n(263),d=n(259),s=n(262),f=n(261),m=n(32);var p=function(e){var t=Object(a.useState)(new Audio),n=Object(i.a)(t,1)[0],c=Object(a.useState)(!1),r=Object(i.a)(c,2),l=r[0],o=r[1],u=Object(a.useState)(!1),d=Object(i.a)(u,2),s=d[0],f=d[1];return n.addEventListener("ended",(function(){f(!0),o(!1)})),Object(a.useEffect)((function(){n.src=e?URL.createObjectURL(e):""}),[e,n]),Object(a.useEffect)((function(){l?n.play():n.pause()}),[l,n]),{playing:l,toggle:function(){return o(!l)},stop:function(){o(!1),n.currentTime=0},ended:s}};var E=function(e){var t=e.file,n=e.selected,r=e.playerId,l=p(t),i=l.playing,o=l.toggle,u=l.stop,d=Object(a.useRef)(),E=Object(a.useContext)(g).dispatch;return c.a.createElement(s.a,{color:n?"green":"grey"},c.a.createElement("input",{type:"file",ref:d,accept:"audio/*",hidden:!0,onChange:function(e){E({type:"setplayerfile",file:e.target.files[0],id:r})}}),c.a.createElement(f.a,{icon:!0,onClick:function(){return d.current.click()}},c.a.createElement(m.a,{name:"folder"})),c.a.createElement(f.a,{disabled:!t,icon:!0,onClick:o},c.a.createElement(m.a,{name:i?"pause":"play",color:i?"blue":"green"})),c.a.createElement(f.a,{disabled:!t,icon:!0,onClick:u},c.a.createElement(m.a,{name:"stop",color:"red"})),c.a.createElement(f.a,{icon:!0,onClick:function(){return E({type:"delete",id:r})}},c.a.createElement(m.a,{name:"delete"})),c.a.createElement("span",{style:{padding:"inherit"}},t?t.name:"No file selected"))};var b=function(e){var t=e.selectedFile,n=p(t),r=n.playing,l=n.toggle,i=n.ended,o=Object(a.useContext)(g).dispatch;return Object(a.useEffect)((function(){i&&o({type:"selectnext"})}),[i,o]),c.a.createElement(c.a.Fragment,null,c.a.createElement(f.a.Group,null,c.a.createElement(f.a,{icon:!0,onClick:function(){return o({type:"selectprevious"})}},c.a.createElement(m.a,{name:"fast backward"})),c.a.createElement(f.a,{icon:!0,onClick:l},c.a.createElement(m.a,{name:r?"pause":"play",color:r?"blue":"green"})),c.a.createElement(f.a,{icon:!0,onClick:function(){return o({type:"selectnext"})}},c.a.createElement(m.a,{name:"fast forward"}))),c.a.createElement("span",{style:{padding:"1em"}},t?t.name:"No file"))},g=c.a.createContext(),y={h1:{marginTop:"3em"}},v=[{id:1,selected:!0,file:null}],h=function(e,t){var n,a,c;switch(t.type){case"add":return[].concat(Object(o.a)(e),[{id:e.length?e[e.length-1].id+1:1}]);case"delete":return n=e.filter((function(e){return e.id!==t.id})),Object(o.a)(n);case"moveup":if(a=e.findIndex((function(e){return e.id===t.id})),n=e,0!==a){var r=e[a];n[a]=n[a-1],n[a-1]=r}return Object(o.a)(n);case"movedown":if((a=e.findIndex((function(e){return e.id===t.id})))!==(n=e).length-1){var l=e[a];n[a]=n[a+1],n[a+1]=l}return Object(o.a)(n);case"selectnext":return(c=(n=e).findIndex((function(e){return e.selected})))<n.length-1&&(n[c].selected=!1,n[c+1].selected=!0),Object(o.a)(n);case"selectprevious":return(c=(n=e).findIndex((function(e){return e.selected})))>0&&(n[c].selected=!1,n[c-1].selected=!0),Object(o.a)(n);case"setplayerfile":var i=(n=e).findIndex((function(e){return e.id===t.id}));return n[i].file=t.file,Object(o.a)(n);default:return v}};var j=function(){var e=Object(a.useReducer)(h,v),t=Object(i.a)(e,2),n=t[0],r=t[1],l=n.find((function(e){return e.selected})).file;return c.a.createElement(g.Provider,{value:{players:n,dispatch:r}},c.a.createElement("div",null,c.a.createElement(u.a,{as:"h1",content:"Cue Queue",style:y.h1,textAlign:"center"}),c.a.createElement(d.a,null,c.a.createElement(b,{selectedFile:l}),c.a.createElement(s.a.Group,null,n.map((function(e){return c.a.createElement(E,{key:e.id,selected:e.selected,file:e.file,playerId:e.id})}))),c.a.createElement(f.a,{icon:!0,onClick:function(){return r({type:"add"})}},c.a.createElement(m.a,{name:"plus"})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[127,1,2]]]);
//# sourceMappingURL=main.0eabb329.chunk.js.map